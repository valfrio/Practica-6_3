{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Pr\u00e1ctica 6.3 - Despliegue de servidores web con usuarios autenticados mediante LDAP usando Docker y docker-compose","text":"<p>La ip usada en esta pr\u00e1ctica ha sido 192.168.91.192</p>"},{"location":"#despliegue-con-docker-de-nginx-demonio-de-autenticacion-ldap-openldap","title":"Despliegue con Docker de NGINX + demonio de autenticaci\u00f3n LDAP + OpenLDAP","text":"<p>Para comenzar nos conectamos por medio de ssh a la m\u00e1quina con la ip ya mencionada. Creamos la siguiente estructura de directorios:</p> <p></p> <p>Ahora modificamos el arhcivo html que se mostrar\u00e1 en el servidor web:</p> <p></p> <p>Ahora toca configurar el archivo nginx, de forma que vamos a modificar el archivo ldap_nginx.conf:</p> <p></p> <p>Hemos configurado el puerto 8082 para que no halla conflicto con el puerto 8080 que ya est\u00e1 en uso. Podemos ver que se ha configurado la autenticaci\u00f3n LDAP conectando con  el servidor openldap.</p> <p>Ahora ya estamos en condiciones de crear el archivo docker-compose.yml:</p> <p></p> <p>Levantamos los contenedores con el comando <code>docker-compose up -d</code> y comprobamos que todo est\u00e1 correcto:</p> <p></p> <p>Y si todo esta bien haciendo una petici\u00f3n a la ip de la m\u00e1quina con el puerto 8082:</p> <p></p> <p>Deber\u00eda aparecer esta p\u00e1gina de autenticaci\u00f3n.</p>"},{"location":"#despliegue-con-docker-de-php-apache-con-autenticacion-ldap","title":"Despliegue con Docker de PHP + Apache con autenticaci\u00f3n LDAP","text":"<p>Ahora vamos a continuar creando el archivo index.php en la raiz de directorios mostrada anteriormente:</p> <p></p> <p>Basandonos en la plantilla proporcionada rellenamos el Dockerfile de la caperta Docker, dejandolo de la siguiente manera:</p> <p></p> <p>Creamos ahora el archivo ldap-demo.conf en el directorio Docker:</p> <p></p> <p>Por \u00faltimo creamos el archivo .htaccess en el directorio Docker:</p> <p></p> <p>Ya estamos en condiciones de construir la imagen: </p> <p></p> <p>Una vez comprobado que todo va adecuadamente, levantamos el contenedor:</p> <p></p> <p>Y comprobamos que todo est\u00e1 correcto hacinedo una petici\u00f3n al recurso demo de la ip de la m\u00e1quina con el puerto 3000:</p> <p></p>"}]}